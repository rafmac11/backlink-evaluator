import os, json

BASE = os.path.expanduser("~/Library/Mobile Documents/com~apple~CloudDocs/Link Value Evaluator/files")

landing = "\"use client\";\nimport { useState, useEffect } from \"react\";\n\nexport default function Landing() {\n  const [dark, setDark] = useState(true);\n\n  useEffect(() => {\n    document.documentElement.setAttribute(\"data-theme\", dark ? \"dark\" : \"light\");\n  }, [dark]);\n\n  const features = [\n    { icon: \"\u27f3\", title: \"AI Link Evaluator\", desc: \"Claude researches both the source and target domain in real time, scoring links across 4 pillars: Authority, Topical Alignment, Toxicity Risk, and Agentic Utility. Get a composite 0\u2013100 Link Value score with a clear Acquire / Monitor / Avoid recommendation.\" },\n    { icon: \"\u2197\", title: \"Backlink Explorer\", desc: \"Fetch the full backlink profile of any domain \u2014 100 top linking domains sorted by PageRank, anchor text distribution, dofollow ratio, and first-seen dates. Powered by DataForSEO's live index.\" },\n    { icon: \"\u25ce\", title: \"Real PageRank Data\", desc: \"Integrated with OpenPageRank to show the true Google-derived PageRank (0\u201310) for the target domain and every linking domain in the table. No inflated vanity metrics.\" },\n    { icon: \"\u25a6\", title: \"Link Profile Visualization\", desc: \"Interactive scatter plot of all referring domains, topical category breakdown derived from anchor texts, and top anchor text bar chart \u2014 everything you need to understand a link profile at a glance.\" },\n  ];\n\n  const pillars = [\n    { num: \"01\", label: \"Authority & Trust\", color: \"#c8f542\", desc: \"Domain age, DR, backlink quality, spam signals\" },\n    { num: \"02\", label: \"Topical Alignment\", color: \"#42f5c8\", desc: \"Niche proximity, content relevance, audience overlap\" },\n    { num: \"03\", label: \"Toxicity Risk\", color: \"#f5a342\", desc: \"PBN detection, thin content, manual penalty signals\" },\n    { num: \"04\", label: \"Agentic Utility\", color: \"#a542f5\", desc: \"Real traffic, indexed pages, commercial value\" },\n  ];\n\n  return (\n    <>\n      <style>{`\n        @import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=Space+Mono:wght@400;700&display=swap');\n        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }\n        :root[data-theme=\"dark\"] { --bg:#0a0a0f;--surface:#111118;--surface2:#18181f;--border:#222230;--text:#f0f0f5;--muted:#6b6b80;--accent:#c8f542;--card-bg:#111118;--nav-bg:rgba(10,10,15,0.85);--hero-grad:radial-gradient(ellipse 80% 60% at 50% -10%,rgba(200,245,66,0.12) 0%,transparent 70%); }\n        :root[data-theme=\"light\"] { --bg:#f5f5f0;--surface:#ffffff;--surface2:#f0f0eb;--border:#e0e0d8;--text:#111118;--muted:#888880;--accent:#5a9e00;--card-bg:#ffffff;--nav-bg:rgba(245,245,240,0.9);--hero-grad:radial-gradient(ellipse 80% 60% at 50% -10%,rgba(90,158,0,0.1) 0%,transparent 70%); }\n        html { scroll-behavior: smooth; }\n        body { font-family:'Space Mono',monospace;background:var(--bg);color:var(--text);min-height:100vh;transition:background 0.3s,color 0.3s; }\n        .nav { position:fixed;top:0;left:0;right:0;z-index:100;background:var(--nav-bg);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);padding:0 40px;height:64px;display:flex;align-items:center;justify-content:space-between; }\n        .logo { font-family:'Syne',sans-serif;font-weight:800;font-size:18px;letter-spacing:-0.5px; }\n        .logo span { color:var(--accent); }\n        .nav-right { display:flex;align-items:center;gap:16px; }\n        .theme-toggle { width:44px;height:24px;background:var(--surface2);border:1px solid var(--border);border-radius:12px;cursor:pointer;position:relative;transition:all 0.3s; }\n        .theme-toggle::after { content:'';position:absolute;top:3px;left:3px;width:16px;height:16px;background:var(--accent);border-radius:50%;transition:transform 0.3s; }\n        .theme-toggle.light::after { transform:translateX(20px); }\n        .theme-label { font-size:10px;color:var(--muted);letter-spacing:1px; }\n        .login-btn { padding:8px 24px;background:var(--accent);color:#000;border:none;border-radius:6px;font-family:'Syne',sans-serif;font-weight:700;font-size:13px;cursor:pointer;text-decoration:none;transition:opacity 0.2s,transform 0.2s; }\n        .login-btn:hover { opacity:0.9;transform:translateY(-1px); }\n        .hero { min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:120px 24px 80px;position:relative;overflow:hidden; }\n        .hero::before { content:'';position:absolute;inset:0;background:var(--hero-grad);pointer-events:none; }\n        .hero-tag { display:inline-block;padding:4px 16px;border:1px solid var(--accent);border-radius:100px;font-size:10px;color:var(--accent);letter-spacing:3px;margin-bottom:32px;animation:fadeUp 0.6s ease both; }\n        .hero-title { font-family:'Syne',sans-serif;font-weight:800;font-size:clamp(40px,7vw,88px);line-height:1.0;letter-spacing:-2px;margin-bottom:28px;animation:fadeUp 0.6s ease 0.1s both; }\n        .hero-title .accent { color:var(--accent); }\n        .hero-sub { max-width:580px;color:var(--muted);font-size:14px;line-height:1.8;margin-bottom:48px;animation:fadeUp 0.6s ease 0.2s both; }\n        .hero-ctas { display:flex;gap:16px;flex-wrap:wrap;justify-content:center;animation:fadeUp 0.6s ease 0.3s both; }\n        .cta-primary { padding:14px 36px;background:var(--accent);color:#000;border:none;border-radius:8px;font-family:'Syne',sans-serif;font-weight:800;font-size:15px;cursor:pointer;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s; }\n        .cta-primary:hover { transform:translateY(-2px);box-shadow:0 8px 32px rgba(200,245,66,0.25); }\n        .cta-secondary { padding:14px 36px;background:transparent;color:var(--text);border:1px solid var(--border);border-radius:8px;font-family:'Syne',sans-serif;font-weight:700;font-size:15px;cursor:pointer;text-decoration:none;transition:border-color 0.2s,color 0.2s; }\n        .cta-secondary:hover { border-color:var(--accent);color:var(--accent); }\n        .stats-bar { display:flex;gap:48px;flex-wrap:wrap;justify-content:center;margin-top:72px;padding-top:48px;border-top:1px solid var(--border);animation:fadeUp 0.6s ease 0.4s both;width:100%;max-width:700px; }\n        .stat-num { font-family:'Syne',sans-serif;font-size:36px;font-weight:800;color:var(--accent);line-height:1;margin-bottom:6px; }\n        .stat-label { font-size:10px;color:var(--muted);letter-spacing:2px; }\n        .section { max-width:1100px;margin:0 auto;padding:100px 24px; }\n        .section-tag { font-size:10px;color:var(--accent);letter-spacing:3px;margin-bottom:16px; }\n        .section-title { font-family:'Syne',sans-serif;font-weight:800;font-size:clamp(28px,4vw,48px);line-height:1.1;margin-bottom:20px;letter-spacing:-1px; }\n        .section-sub { color:var(--muted);font-size:13px;line-height:1.8;max-width:520px;margin-bottom:60px; }\n        .features-grid { display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1px;background:var(--border);border:1px solid var(--border);border-radius:16px;overflow:hidden; }\n        .feature-card { background:var(--card-bg);padding:36px 32px;transition:background 0.2s; }\n        .feature-card:hover { background:var(--surface2); }\n        .feature-icon { font-size:24px;color:var(--accent);margin-bottom:20px;display:block; }\n        .feature-title { font-family:'Syne',sans-serif;font-weight:700;font-size:17px;margin-bottom:12px; }\n        .feature-desc { color:var(--muted);font-size:12px;line-height:1.8; }\n        .pillars-section { background:var(--surface);border-top:1px solid var(--border);border-bottom:1px solid var(--border); }\n        .pillars-grid { display:grid;grid-template-columns:repeat(4,1fr);gap:0; }\n        .pillar { padding:48px 32px;border-right:1px solid var(--border);position:relative; }\n        .pillar:last-child { border-right:none; }\n        .pillar::before { content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--pc); }\n        .pillar-num { font-family:'Syne',sans-serif;font-size:48px;font-weight:800;color:var(--border);line-height:1;margin-bottom:16px; }\n        .pillar-label { font-family:'Syne',sans-serif;font-weight:700;font-size:15px;margin-bottom:10px; }\n        .pillar-desc { font-size:11px;color:var(--muted);line-height:1.7; }\n        .how-section { max-width:1100px;margin:0 auto;padding:100px 24px;display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:center; }\n        .steps { display:flex;flex-direction:column;gap:32px; }\n        .step { display:flex;gap:20px;align-items:flex-start; }\n        .step-num { width:36px;height:36px;border:1px solid var(--accent);border-radius:6px;display:flex;align-items:center;justify-content:center;font-family:'Syne',sans-serif;font-weight:700;font-size:13px;color:var(--accent);flex-shrink:0; }\n        .step-title { font-family:'Syne',sans-serif;font-weight:700;font-size:15px;margin-bottom:6px; }\n        .step-desc { font-size:12px;color:var(--muted);line-height:1.7; }\n        .mock-card { background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:32px; }\n        .mock-score { font-family:'Syne',sans-serif;font-size:80px;font-weight:800;color:var(--accent);line-height:1;margin-bottom:4px; }\n        .mock-micro { font-size:10px;color:var(--muted);letter-spacing:2px;margin-bottom:24px; }\n        .bar-track { height:4px;background:var(--border);border-radius:2px;margin-bottom:12px;overflow:hidden; }\n        .bar-fill { height:100%;border-radius:2px; }\n        .mock-row { display:flex;justify-content:space-between;font-size:11px;margin-bottom:8px;color:var(--muted); }\n        .mock-row b { color:var(--text); }\n        .cta-section { text-align:center;padding:120px 24px;position:relative;overflow:hidden; }\n        .cta-section::before { content:'';position:absolute;inset:0;background:var(--hero-grad);pointer-events:none; }\n        footer { border-top:1px solid var(--border);padding:32px 40px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px; }\n        .footer-text { font-size:11px;color:var(--muted); }\n        @media(max-width:768px) { .how-section{grid-template-columns:1fr} .pillars-grid{grid-template-columns:1fr 1fr} .nav{padding:0 20px} }\n        @keyframes fadeUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:translateY(0)} }\n      `}</style>\n\n      <nav className=\"nav\">\n        <div className=\"logo\">Link Value <span>Platform</span></div>\n        <div className=\"nav-right\">\n          <span className=\"theme-label\">{dark ? \"DARK\" : \"LIGHT\"}</span>\n          <button className={`theme-toggle ${dark ? \"\" : \"light\"}`} onClick={() => setDark(!dark)} />\n          <a href=\"/dashboard\" className=\"login-btn\">\u2192 LAUNCH APP</a>\n        </div>\n      </nav>\n\n      <section className=\"hero\">\n        <div className=\"hero-tag\">AI-POWERED BACKLINK INTELLIGENCE</div>\n        <h1 className=\"hero-title\">Know if a link<br />is worth <span className=\"accent\">acquiring.</span></h1>\n        <p className=\"hero-sub\">The only tool that combines Claude AI research, real PageRank data, and deep backlink analysis to give you a definitive link value score \u2014 before you spend a dollar on outreach.</p>\n        <div className=\"hero-ctas\">\n          <a href=\"/dashboard\" className=\"cta-primary\">\u2192 Launch Platform</a>\n          <a href=\"#how\" className=\"cta-secondary\">How it works</a>\n        </div>\n        <div className=\"stats-bar\">\n          {[{n:\"4\",l:\"EVALUATION PILLARS\"},{n:\"0\u2013100\",l:\"LINK VALUE SCORE\"},{n:\"100+\",l:\"BACKLINKS PER LOOKUP\"},{n:\"~30s\",l:\"AI RESEARCH TIME\"}].map(s=>(\n            <div key={s.l} style={{textAlign:\"center\"}}><div className=\"stat-num\">{s.n}</div><div className=\"stat-label\">{s.l}</div></div>\n          ))}\n        </div>\n      </section>\n\n      <section className=\"section\">\n        <div className=\"section-tag\">WHAT'S INSIDE</div>\n        <h2 className=\"section-title\">Two tools.<br />One decision.</h2>\n        <p className=\"section-sub\">Evaluate a prospective link with Claude AI research, or explore the full backlink profile of any domain with real data.</p>\n        <div className=\"features-grid\">\n          {features.map(f=>(\n            <div className=\"feature-card\" key={f.title}>\n              <span className=\"feature-icon\">{f.icon}</span>\n              <div className=\"feature-title\">{f.title}</div>\n              <p className=\"feature-desc\">{f.desc}</p>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      <div className=\"pillars-section\">\n        <div style={{maxWidth:1100,margin:\"0 auto\",padding:\"60px 24px 0\"}}>\n          <div className=\"section-tag\">THE EVALUATION FRAMEWORK</div>\n          <h2 className=\"section-title\" style={{marginBottom:48}}>4 pillars. 1 score.</h2>\n        </div>\n        <div className=\"pillars-grid\" style={{maxWidth:1100,margin:\"0 auto\",borderTop:\"1px solid var(--border)\"}}>\n          {pillars.map(p=>(\n            <div className=\"pillar\" key={p.num} style={{\"--pc\":p.color}}>\n              <div className=\"pillar-num\">{p.num}</div>\n              <div className=\"pillar-label\" style={{color:p.color}}>{p.label}</div>\n              <p className=\"pillar-desc\">{p.desc}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"how-section\" id=\"how\">\n        <div>\n          <div className=\"section-tag\">HOW IT WORKS</div>\n          <h2 className=\"section-title\">Research-backed scoring in 30 seconds.</h2>\n          <p className=\"section-sub\" style={{marginBottom:40}}>Claude browses the live web to evaluate both domains, then synthesizes a composite score across all four pillars.</p>\n          <div className=\"steps\">\n            {[\n              {n:\"1\",t:\"Enter source & target URLs\",d:\"Paste the linking domain and the page receiving the link.\"},\n              {n:\"2\",t:\"Claude researches both domains\",d:\"Real-time web research on authority signals, content relevance, spam indicators, and traffic quality.\"},\n              {n:\"3\",t:\"Get your Link Value score\",d:\"A 0\u2013100 composite score with a clear recommendation: Acquire, Monitor, or Avoid.\"},\n            ].map(s=>(\n              <div className=\"step\" key={s.n}>\n                <div className=\"step-num\">{s.n}</div>\n                <div><div className=\"step-title\">{s.t}</div><p className=\"step-desc\">{s.d}</p></div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"mock-card\">\n          <div style={{fontSize:10,color:\"var(--muted)\",letterSpacing:2,marginBottom:8}}>COMPOSITE LINK VALUE</div>\n          <div className=\"mock-score\">78</div>\n          <div className=\"mock-micro\">/100</div>\n          <div className=\"bar-track\"><div className=\"bar-fill\" style={{width:\"78%\",background:\"var(--accent)\"}} /></div>\n          <div style={{height:20}} />\n          {[{l:\"Authority & Trust\",s:82,c:\"#c8f542\"},{l:\"Topical Alignment\",s:91,c:\"#42f5c8\"},{l:\"Toxicity Risk\",s:95,c:\"#f5a342\"},{l:\"Agentic Utility\",s:61,c:\"#a542f5\"}].map(p=>(\n            <div key={p.l}>\n              <div className=\"mock-row\"><span>{p.l}</span><b>{p.s}/100</b></div>\n              <div className=\"bar-track\"><div className=\"bar-fill\" style={{width:`${p.s}%`,background:p.c}} /></div>\n            </div>\n          ))}\n          <span style={{display:\"inline-block\",padding:\"6px 20px\",background:\"rgba(200,245,66,0.1)\",color:\"#c8f542\",border:\"1px solid rgba(200,245,66,0.3)\",borderRadius:6,fontFamily:\"Syne,sans-serif\",fontWeight:800,fontSize:18,marginTop:20}}>\u2192 ACQUIRE</span>\n        </div>\n      </div>\n\n      <section className=\"cta-section\">\n        <div className=\"section-tag\" style={{marginBottom:20}}>READY TO START</div>\n        <h2 style={{fontFamily:\"Syne,sans-serif\",fontWeight:800,fontSize:\"clamp(32px,5vw,60px)\",letterSpacing:-1,marginBottom:20,lineHeight:1.1}}>Stop guessing.<br />Start scoring.</h2>\n        <p style={{color:\"var(--muted)\",fontSize:13,marginBottom:40,lineHeight:1.8}}>Every link acquisition decision deserves data-backed confidence.</p>\n        <a href=\"/dashboard\" className=\"cta-primary\" style={{fontSize:16,padding:\"16px 48px\"}}>\u2192 Launch the Platform</a>\n      </section>\n\n      <footer>\n        <div className=\"logo\" style={{fontSize:14}}>Link Value <span>Platform</span></div>\n        <div className=\"footer-text\">AI-powered \u00b7 PageRank data \u00b7 DataForSEO backlinks</div>\n        <div style={{display:\"flex\",alignItems:\"center\",gap:12}}>\n          <span className=\"footer-text\">{dark?\"\ud83c\udf19 Dark\":\"\u2600\ufe0f Light\"}</span>\n          <button className={`theme-toggle ${dark?\"\":\"light\"}`} onClick={()=>setDark(!dark)} />\n        </div>\n      </footer>\n    </>\n  );\n}\n"

dashboard = "\"use client\";\nimport { useState } from \"react\";\n\n// \u2500\u2500 Donut Chart \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nfunction DonutChart({ value, max = 100, color, label, size = 120 }) {\n  const r = 44;\n  const circ = 2 * Math.PI * r;\n  const pct = Math.min(value / max, 1);\n  const dash = pct * circ;\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", gap: 8 }}>\n      <div style={{ position: \"relative\", width: size, height: size }}>\n        <svg width={size} height={size} viewBox=\"0 0 100 100\" style={{ transform: \"rotate(-90deg)\" }}>\n          <circle cx=\"50\" cy=\"50\" r={r} fill=\"none\" stroke=\"var(--border)\" strokeWidth=\"8\" />\n          <circle cx=\"50\" cy=\"50\" r={r} fill=\"none\" stroke={color} strokeWidth=\"8\"\n            strokeDasharray={`${dash} ${circ}`} strokeLinecap=\"round\"\n            style={{ transition: \"stroke-dasharray 1.2s cubic-bezier(.16,1,.3,1)\" }} />\n        </svg>\n        <div style={{ position: \"absolute\", inset: 0, display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"center\" }}>\n          <span style={{ fontFamily: \"var(--font-display)\", fontSize: size * 0.22, fontWeight: 800, color }}>{value}</span>\n          <span style={{ fontSize: size * 0.1, color: \"var(--muted)\", letterSpacing: 1 }}>/{max}</span>\n        </div>\n      </div>\n      <span style={{ fontSize: 11, letterSpacing: 2, color: \"var(--muted)\" }}>{label}</span>\n    </div>\n  );\n}\n\n// \u2500\u2500 Scatter Plot \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nfunction ScatterPlot({ data }) {\n  const [hovered, setHovered] = useState(null);\n  const W = 280, H = 220, PAD = 32;\n  if (!data || data.length === 0) return null;\n  const toX = (tf) => PAD + (tf / 100) * (W - PAD * 2);\n  const toY = (cf) => H - PAD - (cf / 100) * (H - PAD * 2);\n  return (\n    <div style={{ position: \"relative\" }}>\n      <svg width={W} height={H} style={{ overflow: \"visible\" }}>\n        {/* Grid */}\n        {[0, 25, 50, 75, 100].map(v => (\n          <g key={v}>\n            <line x1={toX(v)} y1={PAD} x2={toX(v)} y2={H - PAD} stroke=\"var(--border)\" strokeWidth=\"1\" strokeDasharray=\"3,3\" />\n            <line x1={PAD} y1={toY(v)} x2={W - PAD} y2={toY(v)} stroke=\"var(--border)\" strokeWidth=\"1\" strokeDasharray=\"3,3\" />\n            <text x={toX(v)} y={H - PAD + 14} textAnchor=\"middle\" fill=\"var(--muted)\" fontSize=\"9\">{v}</text>\n            <text x={PAD - 6} y={toY(v) + 3} textAnchor=\"end\" fill=\"var(--muted)\" fontSize=\"9\">{v}</text>\n          </g>\n        ))}\n        {/* Diagonal reference line */}\n        <line x1={toX(0)} y1={toY(0)} x2={toX(100)} y2={toY(100)} stroke=\"var(--border)\" strokeWidth=\"1\" strokeDasharray=\"4,4\" opacity=\"0.5\" />\n        {/* Dots */}\n        {data.map((d, i) => (\n          <circle key={i} cx={toX(d.tf)} cy={toY(d.cf)} r={hovered === i ? 6 : 4}\n            fill={d.tf > d.cf ? \"#c8f542\" : d.tf < d.cf ? \"#f54242\" : \"#42f5c8\"}\n            opacity={0.8} style={{ cursor: \"pointer\", transition: \"r 0.2s\" }}\n            onMouseEnter={() => setHovered(i)} onMouseLeave={() => setHovered(null)} />\n        ))}\n        {/* Axis labels */}\n        <text x={W / 2} y={H} textAnchor=\"middle\" fill=\"var(--muted)\" fontSize=\"10\" letterSpacing=\"1\">PAGE RANK SCORE</text>\n        <text x={10} y={H / 2} textAnchor=\"middle\" fill=\"var(--muted)\" fontSize=\"10\" letterSpacing=\"1\"\n          transform={`rotate(-90, 10, ${H / 2})`}>LINK VOLUME</text>\n      </svg>\n      {hovered !== null && data[hovered] && (\n        <div style={{ position: \"absolute\", top: toY(data[hovered].cf) - 40, left: toX(data[hovered].tf) + 10,\n          background: \"var(--surface2)\", border: \"1px solid var(--border)\", borderRadius: 6, padding: \"6px 10px\",\n          fontSize: 11, pointerEvents: \"none\", whiteSpace: \"nowrap\", zIndex: 10 }}>\n          <div style={{ fontWeight: 700, marginBottom: 2 }}>{data[hovered].domain}</div>\n          <div style={{ color: \"var(--muted)\" }}>TF: {data[hovered].tf} \u00b7 CF: {data[hovered].cf}</div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// \u2500\u2500 Topical Trust Flow \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nconst TOPIC_COLORS = [\"#c8f542\", \"#42f5c8\", \"#a542f5\", \"#f5a342\", \"#f54242\"];\nfunction TopicalTrustFlow({ topics, trustFlow }) {\n  if (!topics || topics.length === 0) return <div style={{ color: \"var(--muted)\", fontSize: 12 }}>Insufficient data for topical analysis.</div>;\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\n      {topics.map((t, i) => (\n        <div key={t.topic} style={{ display: \"flex\", alignItems: \"center\", gap: 12 }}>\n          <div style={{ width: 28, height: 28, borderRadius: 6, background: TOPIC_COLORS[i % TOPIC_COLORS.length],\n            display: \"flex\", alignItems: \"center\", justifyContent: \"center\",\n            fontSize: 11, fontWeight: 700, color: \"#000\", flexShrink: 0 }}>{t.score}</div>\n          <div style={{ flex: 1 }}>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 4 }}>\n              <span style={{ fontSize: 12 }}>{t.topic}</span>\n              <span style={{ fontSize: 11, color: \"var(--muted)\" }}>{t.pct}%</span>\n            </div>\n            <div style={{ height: 3, background: \"var(--border)\", borderRadius: 2 }}>\n              <div style={{ height: \"100%\", width: `${t.pct}%`, background: TOPIC_COLORS[i % TOPIC_COLORS.length],\n                borderRadius: 2, transition: \"width 1s cubic-bezier(.16,1,.3,1)\" }} />\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// \u2500\u2500 Anchor Text Chart \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nfunction AnchorChart({ anchors }) {\n  if (!anchors || anchors.length === 0) return null;\n  const max = Math.max(...anchors.map(a => a.count), 1);\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n      {anchors.map((a, i) => (\n        <div key={i} style={{ display: \"flex\", alignItems: \"center\", gap: 10 }}>\n          <span style={{ width: 160, fontSize: 11, color: \"var(--muted)\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\", flexShrink: 0 }}>\n            {a.anchor || \"(none)\"}\n          </span>\n          <div style={{ flex: 1, height: 4, background: \"var(--border)\", borderRadius: 2 }}>\n            <div style={{ height: \"100%\", width: `${(a.count / max) * 100}%`, background: \"#c8f542\",\n              borderRadius: 2, transition: \"width 1s cubic-bezier(.16,1,.3,1)\" }} />\n          </div>\n          <span style={{ fontSize: 11, color: \"var(--muted)\", width: 30, textAlign: \"right\" }}>{a.count}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// \u2500\u2500 Score Card \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nconst ScoreBar = ({ score, color = \"#c8f542\" }) => {\n  const pct = Math.round(score * 100);\n  return (\n    <div style={{ marginTop: 8 }}>\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: 4 }}>\n        <span style={{ color: \"var(--muted)\", fontSize: 11 }}>SCORE</span>\n        <span style={{ color, fontWeight: 700, fontSize: 13 }}>{pct}/100</span>\n      </div>\n      <div style={{ height: 4, background: \"var(--border)\", borderRadius: 2, overflow: \"hidden\" }}>\n        <div style={{ height: \"100%\", width: `${pct}%`, background: color, borderRadius: 2, transition: \"width 1s cubic-bezier(.16,1,.3,1)\" }} />\n      </div>\n    </div>\n  );\n};\n\nconst FlagBadge = ({ flag }) => {\n  const colors = { CLEAN: \"#42f5c8\", CAUTION: \"#f5a342\", TOXIC: \"#f54242\" };\n  const color = colors[flag] || \"#6b6b80\";\n  return (\n    <span style={{ display: \"inline-block\", padding: \"2px 10px\", borderRadius: 4, border: `1px solid ${color}`, color, fontSize: 11, letterSpacing: 2, fontWeight: 700 }}>{flag}</span>\n  );\n};\n\nconst PillarCard = ({ title, tag, score, findings, summary, color, delay }) => (\n  <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 12, padding: \"24px\", animation: `fadeUp 0.5s ease both`, animationDelay: delay }}>\n    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\", marginBottom: 12 }}>\n      <div>\n        <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 4 }}>{tag}</div>\n        <div style={{ fontFamily: \"var(--font-display)\", fontSize: 16, fontWeight: 600 }}>{title}</div>\n      </div>\n      {score !== undefined && (\n        <div style={{ width: 52, height: 52, borderRadius: \"50%\", border: `2px solid ${color}`, display: \"flex\", alignItems: \"center\", justifyContent: \"center\", flexShrink: 0 }}>\n          <span style={{ color, fontSize: 13, fontWeight: 700 }}>{Math.round(score * 100)}</span>\n        </div>\n      )}\n    </div>\n    {score !== undefined && <ScoreBar score={score} color={color} />}\n    <p style={{ color: \"var(--muted)\", fontSize: 12, margin: \"16px 0 12px\", lineHeight: 1.7 }}>{summary}</p>\n    <div style={{ borderTop: \"1px solid var(--border)\", paddingTop: 12, display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n      {Object.entries(findings).map(([key, val]) => (\n        <div key={key} style={{ display: \"grid\", gridTemplateColumns: \"160px 1fr\", gap: 8 }}>\n          <span style={{ color: \"var(--muted)\", fontSize: 11, letterSpacing: 0.5 }}>{key.replace(/_/g, \" \").toUpperCase()}</span>\n          <span style={{ fontSize: 12, lineHeight: 1.5 }}>{val || \"\u2014\"}</span>\n        </div>\n      ))}\n    </div>\n  </div>\n);\n\n// \u2500\u2500 Evaluator Tab \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nfunction EvaluatorTab() {\n  const [sourceUrl, setSourceUrl] = useState(\"\");\n  const [targetUrl, setTargetUrl] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n\n  const evaluate = async () => {\n    setLoading(true); setResult(null); setError(null);\n    try {\n      const res = await fetch(\"/api/evaluate\", { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify({ sourceUrl, targetUrl }) });\n      const data = await res.json();\n      if (data.error) throw new Error(data.error);\n      setResult(data);\n    } catch (e) { setError(e.message); } finally { setLoading(false); }\n  };\n\n  const lvColor = (lv) => lv >= 0.75 ? \"#c8f542\" : lv >= 0.5 ? \"#f5a342\" : \"#f54242\";\n  const recColor = (rec) => rec === \"Acquire\" ? \"#c8f542\" : rec === \"Monitor\" ? \"#f5a342\" : \"#f54242\";\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: 16 }}>\n      <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 16, padding: \"32px\" }}>\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 16, marginBottom: 20 }}>\n          {[{ label: \"SOURCE URL\", sub: \"The linking domain\", val: sourceUrl, set: setSourceUrl, ph: \"https://example.com\" },\n            { label: \"TARGET URL\", sub: \"Receiving the link\", val: targetUrl, set: setTargetUrl, ph: \"https://yourdomain.com\" }\n          ].map(({ label, sub, val, set, ph }) => (\n            <div key={label}>\n              <label style={{ display: \"block\", fontSize: 10, color: \"var(--accent)\", letterSpacing: 2, marginBottom: 4 }}>{label}</label>\n              <div style={{ fontSize: 11, color: \"var(--muted)\", marginBottom: 8 }}>{sub}</div>\n              <input type=\"url\" value={val} onChange={(e) => set(e.target.value)} placeholder={ph}\n                style={{ width: \"100%\", background: \"var(--bg)\", border: \"1px solid var(--border)\", borderRadius: 8, padding: \"10px 14px\", color: \"var(--text)\", fontFamily: \"var(--font-mono)\", fontSize: 13, outline: \"none\" }}\n                onFocus={(e) => (e.target.style.borderColor = \"var(--accent)\")} onBlur={(e) => (e.target.style.borderColor = \"var(--border)\")} />\n            </div>\n          ))}\n        </div>\n        <button onClick={evaluate} disabled={loading || !sourceUrl || !targetUrl}\n          style={{ width: \"100%\", padding: \"14px\", background: loading ? \"var(--surface2)\" : \"var(--accent)\", color: loading ? \"var(--muted)\" : \"#000\", border: \"none\", borderRadius: 8, fontFamily: \"var(--font-display)\", fontSize: 15, fontWeight: 700, cursor: loading || !sourceUrl || !targetUrl ? \"not-allowed\" : \"pointer\", letterSpacing: 1 }}>\n          {loading ? \"\u27f3 RESEARCHING & SCORING...\" : \"\u2192 RUN EVALUATION\"}\n        </button>\n        {loading && <p style={{ textAlign: \"center\", color: \"var(--muted)\", fontSize: 12, marginTop: 12, animation: \"pulse 2s infinite\" }}>Claude is researching both domains (~30s)...</p>}\n      </div>\n      {error && <div style={{ background: \"#1a0a0a\", border: \"1px solid var(--danger)\", borderRadius: 12, padding: 20, color: \"var(--danger)\", fontSize: 13 }}>\u2715 {error}</div>}\n      {result && (\n        <>\n          <div style={{ background: \"var(--surface2)\", border: `1px solid ${recColor(result.final?.recommendation)}`, borderRadius: 16, padding: \"28px 32px\", animation: \"fadeUp 0.4s ease both\" }}>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", flexWrap: \"wrap\", gap: 16 }}>\n              <div>\n                <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 4 }}>COMPOSITE LINK VALUE</div>\n                <div style={{ fontFamily: \"var(--font-display)\", fontSize: 56, fontWeight: 800, color: lvColor(result.final?.composite_lv), lineHeight: 1 }}>\n                  {(result.final?.composite_lv * 100).toFixed(0)}<span style={{ fontSize: 20, color: \"var(--muted)\" }}>/100</span>\n                </div>\n              </div>\n              <div style={{ textAlign: \"right\" }}>\n                <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 8 }}>RECOMMENDATION</div>\n                <div style={{ fontFamily: \"var(--font-display)\", fontSize: 28, fontWeight: 800, color: recColor(result.final?.recommendation) }}>{result.final?.recommendation}</div>\n              </div>\n            </div>\n            {result.final?.reasoning && <p style={{ color: \"var(--muted)\", fontSize: 13, marginTop: 20, lineHeight: 1.7, borderTop: \"1px solid var(--border)\", paddingTop: 16 }}>{result.final.reasoning}</p>}\n          </div>\n          <PillarCard title=\"Source Authority & Trust\" tag=\"PILLAR 01\" score={result.source_authority?.score} findings={result.source_authority?.findings || {}} summary={result.source_authority?.summary} color=\"#c8f542\" delay=\"0.1s\" />\n          <PillarCard title=\"Topical Alignment & Niche Proximity\" tag=\"PILLAR 02\" score={result.topical_alignment?.score} findings={result.topical_alignment?.findings || {}} summary={result.topical_alignment?.summary} color=\"#42f5c8\" delay=\"0.2s\" />\n          <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 12, padding: \"24px\", animation: \"fadeUp 0.5s ease 0.3s both\" }}>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\", marginBottom: 12 }}>\n              <div>\n                <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 4 }}>PILLAR 03</div>\n                <div style={{ fontFamily: \"var(--font-display)\", fontSize: 16, fontWeight: 600 }}>Toxicity & Safety</div>\n              </div>\n              <FlagBadge flag={result.toxicity_risk?.flag || \"CLEAN\"} />\n            </div>\n            <p style={{ color: \"var(--muted)\", fontSize: 12, margin: \"16px 0 12px\", lineHeight: 1.7 }}>{result.toxicity_risk?.summary}</p>\n            <div style={{ borderTop: \"1px solid var(--border)\", paddingTop: 12, display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n              {Object.entries(result.toxicity_risk?.findings || {}).map(([key, val]) => (\n                <div key={key} style={{ display: \"grid\", gridTemplateColumns: \"160px 1fr\", gap: 8 }}>\n                  <span style={{ color: \"var(--muted)\", fontSize: 11, letterSpacing: 0.5 }}>{key.replace(/_/g, \" \").toUpperCase()}</span>\n                  <span style={{ fontSize: 12, lineHeight: 1.5 }}>{val || \"\u2014\"}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n          <PillarCard title=\"Agentic Value & Traffic Utility\" tag=\"PILLAR 04\" score={result.agentic_utility?.score} findings={result.agentic_utility?.findings || {}} summary={result.agentic_utility?.summary} color=\"#a542f5\" delay=\"0.4s\" />\n          <div style={{ borderTop: \"1px solid var(--border)\", paddingTop: 16, color: \"var(--muted)\", fontSize: 11 }}>\n            <span>SOURCE: {result.source_url}</span><span style={{ margin: \"0 12px\" }}>\u2192</span><span>TARGET: {result.target_url}</span>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\n// \u2500\u2500 Backlink Explorer Tab \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nconst tfColor = (score) => score >= 50 ? \"#c8f542\" : score >= 25 ? \"#f5a342\" : \"#f54242\";\n\nfunction BacklinkExplorer() {\n  const [url, setUrl] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState(null);\n  const [sortKey, setSortKey] = useState(\"page_rank_decimal\");\n  const [sortDir, setSortDir] = useState(\"desc\");\n  const [filter, setFilter] = useState(\"\");\n  const [view, setView] = useState(\"table\"); // table | profile\n\n  const fetchBacklinks = async () => {\n    setLoading(true); setResult(null); setError(null);\n    try {\n      const res = await fetch(\"/api/backlinks\", { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify({ targetUrl: url }) });\n      const data = await res.json();\n      if (data.error) throw new Error(data.error);\n      setResult(data);\n    } catch (e) { setError(e.message); } finally { setLoading(false); }\n  };\n\n  const toggleSort = (key) => {\n    if (sortKey === key) setSortDir(d => d === \"desc\" ? \"asc\" : \"desc\");\n    else { setSortKey(key); setSortDir(\"desc\"); }\n  };\n\n  const sorted = result?.backlinks\n    ? [...result.backlinks]\n        .filter(b => !filter || b.domain_from?.includes(filter) || b.anchor?.includes(filter))\n        .sort((a, b) => {\n          const av = a[sortKey], bv = b[sortKey];\n          if (typeof av === \"boolean\") return sortDir === \"desc\" ? (bv ? 1 : -1) : (av ? -1 : 1);\n          return sortDir === \"desc\" ? (bv || 0) - (av || 0) : (av || 0) - (bv || 0);\n        })\n    : [];\n\n  const thStyle = (key) => ({\n    padding: \"10px 12px\", fontSize: 10, letterSpacing: 1.5,\n    color: sortKey === key ? \"var(--accent)\" : \"var(--muted)\",\n    cursor: \"pointer\", whiteSpace: \"nowrap\", userSelect: \"none\",\n    textAlign: \"left\", fontFamily: \"var(--font-mono)\",\n    borderBottom: \"1px solid var(--border)\", background: \"var(--surface2)\",\n  });\n  const tdStyle = { padding: \"10px 12px\", fontSize: 12, borderBottom: \"1px solid var(--border)\", verticalAlign: \"middle\" };\n\n  const s = result?.summary;\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", gap: 16 }}>\n      {/* Input */}\n      <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 16, padding: \"32px\" }}>\n        <label style={{ display: \"block\", fontSize: 10, color: \"var(--accent)\", letterSpacing: 2, marginBottom: 4 }}>TARGET DOMAIN</label>\n        <div style={{ fontSize: 11, color: \"var(--muted)\", marginBottom: 12 }}>Enter the domain to explore backlinks, flow metrics and link profile</div>\n        <div style={{ display: \"flex\", gap: 12 }}>\n          <input type=\"url\" value={url} onChange={(e) => setUrl(e.target.value)} placeholder=\"https://yourdomain.com\"\n            style={{ flex: 1, background: \"var(--bg)\", border: \"1px solid var(--border)\", borderRadius: 8, padding: \"10px 14px\", color: \"var(--text)\", fontFamily: \"var(--font-mono)\", fontSize: 13, outline: \"none\" }}\n            onFocus={(e) => (e.target.style.borderColor = \"var(--accent)\")} onBlur={(e) => (e.target.style.borderColor = \"var(--border)\")}\n            onKeyDown={(e) => e.key === \"Enter\" && url && fetchBacklinks()} />\n          <button onClick={fetchBacklinks} disabled={loading || !url}\n            style={{ padding: \"10px 28px\", background: loading ? \"var(--surface2)\" : \"var(--accent)\", color: loading ? \"var(--muted)\" : \"#000\", border: \"none\", borderRadius: 8, fontFamily: \"var(--font-display)\", fontSize: 14, fontWeight: 700, cursor: loading || !url ? \"not-allowed\" : \"pointer\" }}>\n            {loading ? \"\u27f3\" : \"\u2192 FETCH\"}\n          </button>\n        </div>\n        {loading && <p style={{ color: \"var(--muted)\", fontSize: 12, marginTop: 12, animation: \"pulse 2s infinite\" }}>Fetching backlink profile from DataForSEO...</p>}\n      </div>\n\n      {error && <div style={{ background: \"#1a0a0a\", border: \"1px solid var(--danger)\", borderRadius: 12, padding: 20, color: \"var(--danger)\", fontSize: 13 }}>\u2715 {error}</div>}\n\n      {result && s && (\n        <>\n          {/* Flow Metrics \u2014 Majestic-style donut row */}\n          <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 16, padding: \"28px 32px\", animation: \"fadeUp 0.3s ease both\" }}>\n            <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 24 }}>FLOW METRICS \u2014 {s.target}</div>\n            <div style={{ display: \"flex\", gap: 40, flexWrap: \"wrap\", alignItems: \"flex-start\", justifyContent: \"space-between\" }}>\n              {/* Donuts */}\n              <div style={{ display: \"flex\", gap: 40 }}>\n                <DonutChart value={s.page_rank ?? 0} max={10} label=\"PAGE RANK\" color=\"#c8f542\" size={130} />\n                <DonutChart value={s.citation_flow ?? 0} label=\"LINK VOLUME\" color=\"#42f5c8\" size={130} />\n                <DonutChart value={s.dofollow_pct ?? 0} label=\"DOFOLLOW %\" color=\"#a542f5\" size={130} />\n              </div>\n              {/* Quick stats */}\n              <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12 }}>\n                {[\n                  { label: \"PAGE RANK\", val: `${s.page_rank ?? \"\u2014\"} / 10` },\n                  { label: \"GLOBAL RANK\", val: s.global_rank ? `#${s.global_rank.toLocaleString()}` : \"\u2014\" },\n                  { label: \"REF IPs\", val: s.referring_ips?.toLocaleString() },\n                  { label: \"PR SCORE\", val: s.pr_score ? `${s.pr_score}/100` : \"\u2014\" },\n                ].map(({ label, val }) => (\n                  <div key={label} style={{ background: \"var(--bg)\", border: \"1px solid var(--border)\", borderRadius: 8, padding: \"12px 16px\" }}>\n                    <div style={{ fontSize: 9, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 4 }}>{label}</div>\n                    <div style={{ fontFamily: \"var(--font-display)\", fontSize: 22, fontWeight: 800 }}>{val ?? \"\u2014\"}</div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Topical TF + Scatter + Anchors */}\n          <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr\", gap: 16, animation: \"fadeUp 0.4s ease 0.1s both\" }}>\n            <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 12, padding: \"24px\" }}>\n              <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 16 }}>TOPICAL ANALYSIS</div>\n              <TopicalTrustFlow topics={s.topics} trustFlow={s.pr_score} />\n            </div>\n            <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 12, padding: \"24px\" }}>\n              <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 16 }}>LINK PROFILE (TF vs CF)</div>\n              <ScatterPlot data={s.scatter} />\n              <div style={{ display: \"flex\", gap: 12, marginTop: 8, fontSize: 10, color: \"var(--muted)\" }}>\n                <span style={{ color: \"#c8f542\" }}>\u25cf TF &gt; CF</span>\n                <span style={{ color: \"#f54242\" }}>\u25cf CF &gt; TF</span>\n                <span style={{ color: \"#42f5c8\" }}>\u25cf Balanced</span>\n              </div>\n            </div>\n            <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 12, padding: \"24px\" }}>\n              <div style={{ fontSize: 10, color: \"var(--muted)\", letterSpacing: 2, marginBottom: 16 }}>TOP ANCHOR TEXTS</div>\n              <AnchorChart anchors={s.top_anchors} />\n            </div>\n          </div>\n\n          {/* View toggle */}\n          <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n            {[\"table\"].map(v => (\n              <button key={v} onClick={() => setView(v)}\n                style={{ padding: \"6px 16px\", background: view === v ? \"var(--accent)\" : \"transparent\", color: view === v ? \"#000\" : \"var(--muted)\", border: \"1px solid \" + (view === v ? \"var(--accent)\" : \"var(--border)\"), borderRadius: 6, fontFamily: \"var(--font-display)\", fontSize: 12, fontWeight: 700, cursor: \"pointer\" }}>\n                BACKLINKS TABLE\n              </button>\n            ))}\n            <div style={{ marginLeft: \"auto\", display: \"flex\", gap: 12, alignItems: \"center\" }}>\n              <input value={filter} onChange={(e) => setFilter(e.target.value)} placeholder=\"Filter by domain or anchor...\"\n                style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 8, padding: \"6px 14px\", color: \"var(--text)\", fontFamily: \"var(--font-mono)\", fontSize: 12, outline: \"none\", width: 240 }}\n                onFocus={(e) => (e.target.style.borderColor = \"var(--accent)\")} onBlur={(e) => (e.target.style.borderColor = \"var(--border)\")} />\n              <span style={{ color: \"var(--muted)\", fontSize: 12, whiteSpace: \"nowrap\" }}>{sorted.length} results</span>\n            </div>\n          </div>\n\n          {/* Table */}\n          <div style={{ background: \"var(--surface)\", border: \"1px solid var(--border)\", borderRadius: 12, overflow: \"hidden\", animation: \"fadeUp 0.5s ease 0.2s both\" }}>\n            <div style={{ overflowX: \"auto\" }}>\n              <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n                <thead>\n                  <tr>\n                    {[{ key: \"domain_from\", label: \"LINKING DOMAIN\" }, { key: \"page_rank_decimal\", label: \"PAGE RANK\" },\n                      { key: \"domain_from_rank\", label: \"DOMAIN RANK\" }, { key: \"anchor\", label: \"ANCHOR TEXT\" },\n                      { key: \"dofollow\", label: \"TYPE\" }, { key: \"first_seen\", label: \"FIRST SEEN\" }\n                    ].map(({ key, label }) => (\n                      <th key={key} style={thStyle(key)} onClick={() => toggleSort(key)}>\n                        {label} {sortKey === key ? (sortDir === \"desc\" ? \"\u2193\" : \"\u2191\") : \"\"}\n                      </th>\n                    ))}\n                    <th style={{ ...thStyle(\"\"), cursor: \"default\" }}>LINK</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {sorted.map((b, i) => (\n                    <tr key={i} style={{ background: i % 2 === 0 ? \"transparent\" : \"rgba(255,255,255,0.02)\" }}>\n                      <td style={tdStyle}><span style={{ fontWeight: 600 }}>{b.domain_from}</span></td>\n                      <td style={tdStyle}>\n                        {b.page_rank !== null && b.page_rank !== undefined\n                          ? <span style={{ color: tfColor((b.page_rank / 10) * 100), fontWeight: 700 }}>PR {b.page_rank}</span>\n                          : <span style={{ color: \"var(--muted)\" }}>\u2014</span>}\n                      </td>\n                      <td style={tdStyle}><span style={{ color: tfColor(b.domain_from_rank) }}>{b.domain_from_rank}</span></td>\n                      <td style={{ ...tdStyle, maxWidth: 180 }}>\n                        <span style={{ color: \"var(--muted)\", fontSize: 11, display: \"block\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\" }}>{b.anchor || \"(none)\"}</span>\n                      </td>\n                      <td style={tdStyle}>\n                        <span style={{ fontSize: 10, letterSpacing: 1, color: b.dofollow ? \"#42f5c8\" : \"var(--muted)\", border: `1px solid ${b.dofollow ? \"#42f5c8\" : \"var(--border)\"}`, borderRadius: 3, padding: \"2px 6px\" }}>\n                          {b.dofollow ? \"DOFOLLOW\" : \"NOFOLLOW\"}\n                        </span>\n                      </td>\n                      <td style={{ ...tdStyle, color: \"var(--muted)\", fontSize: 11 }}>{b.first_seen ? new Date(b.first_seen).toLocaleDateString() : \"\u2014\"}</td>\n                      <td style={tdStyle}>\n                        <a href={b.url_from} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"var(--accent)\", fontSize: 11, textDecoration: \"none\" }}>\u2197 view</a>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              {sorted.length === 0 && <div style={{ padding: 40, textAlign: \"center\", color: \"var(--muted)\", fontSize: 13 }}>No backlinks found.</div>}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\n// \u2500\u2500 Main App \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nexport default function Home() {\n  const [tab, setTab] = useState(\"evaluator\");\n  const tabStyle = (t) => ({\n    padding: \"8px 20px\",\n    background: tab === t ? \"var(--accent)\" : \"transparent\",\n    color: tab === t ? \"#000\" : \"var(--muted)\",\n    border: \"1px solid \" + (tab === t ? \"var(--accent)\" : \"var(--border)\"),\n    borderRadius: 6, fontFamily: \"var(--font-display)\", fontSize: 13, fontWeight: 700,\n    cursor: \"pointer\", letterSpacing: 0.5, transition: \"all 0.2s\",\n  });\n\n  return (\n    <>\n      <div className=\"scanline\" />\n      <div style={{ maxWidth: 1200, margin: \"0 auto\", padding: \"48px 24px\" }}>\n        <div style={{ marginBottom: 36, animation: \"fadeUp 0.4s ease both\" }}>\n          <div style={{ fontSize: 10, color: \"var(--accent)\", letterSpacing: 4, marginBottom: 8 }}>BACKLINK INTELLIGENCE</div>\n          <h1 style={{ fontFamily: \"var(--font-display)\", fontSize: \"clamp(28px, 5vw, 48px)\", fontWeight: 800, lineHeight: 1.1, marginBottom: 12 }}>\n            Link Value <span style={{ color: \"var(--accent)\" }}>Platform</span>\n          </h1>\n          <p style={{ color: \"var(--muted)\", fontSize: 13 }}>AI-powered evaluation \u00b7 Real PageRank data \u00b7 Topical analysis \u00b7 Link profile</p>\n        </div>\n        <div style={{ display: \"flex\", gap: 8, marginBottom: 24 }}>\n          <button style={tabStyle(\"evaluator\")} onClick={() => setTab(\"evaluator\")}>\u27f3 Link Evaluator</button>\n          <button style={tabStyle(\"explorer\")} onClick={() => setTab(\"explorer\")}>\u2197 Backlink Explorer</button>\n        </div>\n        {tab === \"evaluator\" ? <EvaluatorTab /> : <BacklinkExplorer />}\n      </div>\n    </>\n  );\n}\n"

# Write landing page
with open(os.path.join(BASE, "app/page.jsx"), "w") as f:
    f.write(landing)
print(" app/page.jsx written")

# Write dashboard
os.makedirs(os.path.join(BASE, "app/dashboard"), exist_ok=True)
with open(os.path.join(BASE, "app/dashboard/page.jsx"), "w") as f:
    f.write(dashboard)
print(" app/dashboard/page.jsx written")

print("\nDone! Now run:")
print('  cd "/Users/rafaelm/Library/Mobile Documents/com~apple~CloudDocs/Link Value Evaluator/files"')
print('  git add .')
print('  git commit -m "landing page and dashboard"')
print('  git push')
